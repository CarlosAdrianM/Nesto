<UserControl x:Class="ControlesUsuario.SelectorAlmacen"
             x:Name="Root"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:ControlesUsuario">

    <!--
    Carlos 09/12/25: Control SelectorAlmacen (Issue #253/#52)
    IMPORTANTE: NO establecer DataContext aquí para permitir herencia del parent
    Siguiendo el patrón de SelectorCCC
    Los almacenes destacados (no ficticios, no permiten negativo) se muestran en negrita.
    Los almacenes no destacados se muestran en gris cursiva.
    -->

    <ComboBox x:Name="comboAlmacen"
              ItemsSource="{Binding ElementName=Root, Path=ListaAlmacenes}"
              SelectedValue="{Binding ElementName=Root, Path=AlmacenSeleccionado, Mode=TwoWay}"
              SelectedValuePath="Codigo"
              IsEnabled="{Binding ElementName=Root, Path=IsEnabled}"
              ToolTip="Seleccione el almacén para el pedido">
        <ComboBox.ItemTemplate>
            <DataTemplate>
                <TextBlock Text="{Binding Nombre}">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <!-- Estilo por defecto para almacenes destacados -->
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="Foreground" Value="Black"/>
                            <Style.Triggers>
                                <!-- Almacenes no destacados: gris y cursiva -->
                                <DataTrigger Binding="{Binding EsDestacado}" Value="False">
                                    <Setter Property="FontWeight" Value="Normal"/>
                                    <Setter Property="FontStyle" Value="Italic"/>
                                    <Setter Property="Foreground" Value="Gray"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </DataTemplate>
        </ComboBox.ItemTemplate>
    </ComboBox>
</UserControl>
